<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>表单流程可视化界面配置</title>
        <link rel="stylesheet" type="text/css" href="resources/css/ext-all.css" />
        <link rel="stylesheet" type="text/css" href="css/ux-all.css" />
        <link rel="stylesheet" type="text/css" href="css/layout.css" />
        <script type="text/javascript" src="adapter/ext/ext-base.js">
        </script>
        <script type="text/javascript" src="js/ext-all.js">
        </script>
        <script type="text/javascript" src="js/ext-lang-zh_CN.js">
        </script>
        <script type="text/javascript" src="js/extends.js">
        </script>
        <script type="text/javascript" src="js/global.js">
        </script>
        <script>
            Ext.onReady(function(){
                var windows = null;
                windows = new Ext.Window({
                    title: 'aaaaa',
                    frame: true,
                    border: true,
                    items: {
                        xtype: 'form',
                        title: 'bbbb',
                        id: 'qqq',
                        bodyStyle: 'padding:10px;',
                        layout: 'form',
                        border: true,
                        defaultType: 'textfield',
                        height: 350,
                        autoScroll: true,
                        defaults: {
                            labelSeparator: ':',
                            labelWidth: 50,
                            labelAlign: 'left',
                            anchor: '100%'
                        },
                        items: [{
                            fieldLabel: '表单描述',
                            name: 'form_desc',
                            allowBlank: false
                        }, {
                            fieldLabel: '表单描述2',
                            name: 'form_desc',
                            allowBlank: false
                        }],
                        tbar: [{
                            text: 'aaaa',
                            handler: function(){
                                console.dir(Ext.getCmp('qqq').getForm().getValues());
                                Ext.getCmp('qqq').getForm().items.each(function(item, index, length){
                                    console.log(item.el.dom.name + '     ' + item.el.dom.value);
                                });
                            }
                        }]
                    }
                });
                //windows.show();
                
                
                var combo = new Ext.form.ComboBox({
                    typeAhead: true,
                    triggerAction: 'all',
                    renderTo: 'win',
					name:'wqwq',
                    lazyRender: true,
                    mode: 'local',
                    store: new Ext.data.ArrayStore({
                        id: 0,
                        fields: ['myId', 'displayText'],
                        data: [[1, 'item1'], [2, 'item2']]
                    }),
                    valueField: 'myId',
                    displayField: 'displayText',
                    listeners: {
                        'select': function(){
							alert(combo.getName()+'   '+combo.getValue());
						}
                    }
                });
                
				
				var User=new Ext.data.Record.create([
					{name:'username',defaultValue:'',allowBlank: false},
					{name:'password',defaultValue:'',allowBlank: false},
				]);
				
				var user=new User({
					username:'',
					password:''
				},id);
				
				//console.log(user.data);
				for(var key in user.data){
					alert(key+' '+user.data[key]);
				}
				
            });
        </script>
    </head>
    <body>
        <div id="win">
        </div>
    </body>
</html>
